<div class="w-full pb-16">
    <app-movies-header
        [searchParams]="searchParams"
        [totalCount]="movies?.totalCount"
        [movieFilters]="movieFilters"
        [isDeleteModeOn]="isDeleteModeOn"
        (searchParamsChanged)="searchMovies()"
        (sortOptionsChanged)="handleSortOptionsChange()"
        (movieFiltersChanged)="handleMovieFiltersChange($event)"
        (deleteModeToggled)="toggleDeleteMode()"
        (onDeleteMovies)="deleteMovies()"
        (cancelDeleteMovies)="clearDeleteMovieIds()"
        class="w-full border-b border-gray-300 shadow-sm"
    ></app-movies-header>

    <div class="flex w-full h-full page-std-padding-x py-4">
        <app-movies-list 
            [movies]="movies" 
            [moviesPerRow]="userSettings?.moviesPerRow"
            [isDeleteModeOn]="isDeleteModeOn"
            [isLoading]="isLoading"
            (onNewMovieId)="handleNewDeleteMovieId($event)"
            class="w-full"
        ></app-movies-list>
    </div>

    <app-page-selector
        [currentPage]="searchParams.page"
        [totalCount]="movies?.totalCount ?? 0"
        [itemsPerPage]="searchParams.itemsPerPage"
        (pageChanged)="handlePageChange($event)"
        class="w-full"
    ></app-page-selector>
</div>